import{a as U}from"./chunk-Z2GVZK4R.js";import{c as L,d as T}from"./chunk-O44J2HJB.js";import{a as k,b as c,c as D,d as N,e as V,f as G,g as M,m as q,n as I}from"./chunk-QWVXAMFY.js";import"./chunk-3YNTNXFH.js";import{j as F,n as R}from"./chunk-MXHFB5TN.js";import{$ as h,Ja as w,Oa as s,T as p,Va as d,Ya as a,_ as b,aa as g,ab as n,ba as f,bb as i,cb as u,db as S,hb as y,ib as m,mb as o,na as C,nb as E,sb as x,za as r}from"./chunk-CQFPMLQ5.js";import"./chunk-Q7L6LLAK.js";var j=t=>({"border-red-500":t});function z(t,l){if(t&1&&(n(0,"div",1)(1,"div",16)(2,"div",17),g(),n(3,"svg",18),u(4,"path",19),i()(),f(),n(5,"div",20)(6,"p",21),o(7),i()()()()),t&2){let e=m(2);r(7),E(e.error())}}function A(t,l){t&1&&(n(0,"span"),o(1,"Correo electr\xF3nico es obligatorio"),i())}function H(t,l){t&1&&(n(0,"span"),o(1,"Ingrese un correo electr\xF3nico v\xE1lido"),i())}function P(t,l){if(t&1&&(n(0,"div",6),s(1,A,2,0,"span")(2,H,2,0,"span"),i()),t&2){let e=m(2);r(),a(!(e.emailControl==null||e.emailControl.errors==null)&&e.emailControl.errors.required?1:-1),r(),a(!(e.emailControl==null||e.emailControl.errors==null)&&e.emailControl.errors.email?2:-1)}}function Y(t,l){t&1&&(n(0,"span"),o(1,"La contrase\xF1a es obligatoria"),i())}function J(t,l){t&1&&(n(0,"span"),o(1,"La contrase\xF1a debe de tener un m\xEDnimo de 6 d\xEDgitos"),i())}function K(t,l){if(t&1&&(n(0,"div",6),s(1,Y,2,0,"span")(2,J,2,0,"span"),i()),t&2){let e=m(2);r(),a(!(e.passwordControl==null||e.passwordControl.errors==null)&&e.passwordControl.errors.required?1:-1),r(),a(!(e.passwordControl==null||e.passwordControl.errors==null)&&e.passwordControl.errors.minlength?2:-1)}}function O(t,l){t&1&&(n(0,"span"),o(1," Registrar"),i())}function Q(t,l){t&1&&(n(0,"div",12),g(),n(1,"svg",22),u(2,"circle",23)(3,"path",24),i(),f(),n(4,"span"),o(5,"Ingresando..."),i()())}function W(t,l){if(t&1){let e=S();n(0,"h2",0),o(1,"Reg\xEDstrate"),i(),s(2,z,8,1,"div",1),n(3,"form",2),y("ngSubmit",function(){b(e);let B=m();return h(B.onSubmit())}),n(4,"div",3)(5,"label",4),o(6,"Correo electr\xF3nico"),i(),u(7,"input",5),s(8,P,3,2,"div",6),i(),n(9,"div",7)(10,"div",8)(11,"label",9),o(12,"Contrase\xF1a"),i()(),u(13,"input",10),s(14,K,3,2,"div",6),i(),n(15,"button",11),s(16,O,2,0,"span")(17,Q,6,0,"div",12),i()(),n(18,"div",13)(19,"p",14),o(20," \xBFYa tienes una cuenta? "),i(),n(21,"a",15),o(22,"Ingresa aqui"),i()()}if(t&2){let e=m();r(2),a(e.error()?2:-1),r(),d("formGroup",e.registerForm),r(4),d("ngClass",x(8,j,(e.emailControl==null?null:e.emailControl.invalid)&&(e.emailControl==null?null:e.emailControl.touched))),r(),a(e.emailControl!=null&&e.emailControl.invalid&&(e.emailControl!=null&&e.emailControl.touched)?8:-1),r(5),d("ngClass",x(10,j,(e.passwordControl==null?null:e.passwordControl.invalid)&&(e.passwordControl==null?null:e.passwordControl.touched))),r(),a(e.passwordControl!=null&&e.passwordControl.invalid&&(e.passwordControl!=null&&e.passwordControl.touched)?14:-1),r(),d("disabled",e.registerForm.invalid||e.isLoading()),r(),a(e.isLoading()?17:16)}}function X(t,l){t&1&&(n(0,"p",25),o(1,"Felicitaciones, su usuario fue creado."),i(),n(2,"p",26),o(3,"Ahora puedes ingresar con tu correo y contrase\xF1a "),n(4,"a",27),o(5,"desde aqu\xED."),i()())}var _=class t{userService=p(U);router=p(L);fb=p(q);registerForm;isLoading=C(!1);error=C("");isUserCreated=C(!1);constructor(){this.registerForm=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]]})}onSubmit(){this.registerForm.invalid||(this.isLoading.set(!0),this.error.set(""),this.userService.createUser(this.registerForm.value).subscribe({next:()=>{this.isLoading.set(!1),this.isUserCreated.set(!0)},error:l=>{this.error.set(l.message),this.isLoading.set(!1)}}))}get emailControl(){return this.registerForm.get("email")}get passwordControl(){return this.registerForm.get("password")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=w({type:t,selectors:[["app-register"]],decls:3,vars:1,consts:[[1,"text-2xl","font-bold","text-gray-900","mb-6"],[1,"bg-red-50","border-l-4","border-red-500","p-4","mb-6"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","email",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","email","type","email","formControlName","email",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"mt-1","text-xs","text-red-500"],[1,"mb-6"],[1,"flex","items-center","justify-between","mb-1"],["for","password",1,"block","text-sm","font-medium","text-gray-700"],["id","password","type","password","formControlName","password",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["type","submit",1,"w-full","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50",3,"disabled"],[1,"flex","justify-center","items-center"],[1,"mt-5","text-center"],[1,"text-sm","text-gray-600"],["routerLink","/auth/login",1,"text-sm","font-medium","text-blue-600","hover:text-blue-500"],[1,"flex"],[1,"flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"h-5","w-5","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"ml-3"],[1,"text-sm","text-red-700"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"font-bold"],[1,"mt-3"],["routerLink","/auth/login",1,"font-medium","text-blue-600","hover:text-blue-500"]],template:function(e,v){e&1&&(n(0,"div"),s(1,W,23,12)(2,X,6,0),i()),e&2&&(r(),a(v.isUserCreated()?2:1))},dependencies:[I,V,k,D,N,G,M,R,F,T],encapsulation:2,changeDetection:0})};export{_ as default};
