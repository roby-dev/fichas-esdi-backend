import{a as H}from"./chunk-QQTAS7L5.js";import{a as g,b as I,c as R,f as v}from"./chunk-NDLMWJ3S.js";import{a as m,b as s}from"./chunk-UFO7NE4L.js";import{a as D}from"./chunk-3YNTNXFH.js";import{s as A,u as S,v as M,w as T}from"./chunk-D7KOQTBE.js";import{F as f,Fa as d,Q as i,_a as h,k as a,tb as C,ub as E,v as c}from"./chunk-O3UI23AV.js";import"./chunk-2NFLSA4Y.js";var U=()=>{let t=i(H),e=i(R);return t.isLoggedIn()?e.parseUrl("/admin"):e.parseUrl("/auth")};var y=[{path:"auth",loadComponent:()=>import("./chunk-PRGNAAFG.js"),loadChildren:()=>import("./chunk-RAJYSFKW.js").then(t=>t.AUTH_ROUTES)},{path:"admin",loadComponent:()=>import("./chunk-XTGCY22J.js"),loadChildren:()=>import("./chunk-2A3EZA7H.js").then(t=>t.ADMIN_ROUTES)},{path:"",loadComponent:()=>import("./chunk-SMDHAB4S.js"),canActivate:[U],pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}];var N=y;var O=(t,e)=>{if(t.url.includes("/api/v1/auth/login")||t.headers.has("Authorization"))return e(t);let n=localStorage.getItem(m);if(!n)return e(t);let r=t.clone({headers:t.headers.set("Authorization",`Bearer ${n}`)});return e(r)};var b=(t,e)=>{let o=i(S),n=`${D.apiUrl}/api/v1/auth/refresh`;return e(t).pipe(c(r=>{if(r.status===401){let l=localStorage.getItem(s);return l?o.post(n,{refreshToken:l}).pipe(f(p=>{localStorage.setItem(m,p.accessToken),localStorage.setItem(s,p.refreshToken);let k=t.clone({setHeaders:{Authorization:`Bearer ${p.accessToken}`}});return e(k)}),c(p=>(localStorage.removeItem(m),localStorage.removeItem(s),a(()=>p)))):a(()=>r)}return a(()=>r)}))};var L={providers:[C(),v(N),M(T([O,b])),{provide:E,useValue:"es-ES"}]};var u=class t{title="fichas-frontend-2.0";static \u0275fac=function(o){return new(o||t)};static \u0275cmp=d({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(o,n){o&1&&h(0,"router-outlet")},dependencies:[I],encapsulation:2})};function F(t){let e=t,o=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===1?1:r===0&&o!==0&&o%1e6===0&&n===0||!(r>=0&&r<=5)?4:5}var $=["es",[["a.\xA0m.","p.\xA0m."],void 0,void 0],void 0,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"],["DO","LU","MA","MI","JU","VI","SA"]],void 0,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],void 0,[["a. C.","d. C."],void 0,["antes de Cristo","despu\xE9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1}, {0}",void 0,void 0,void 0],[",",".",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{AUD:[void 0,"$"],BRL:[void 0,"R$"],BYN:[void 0,"\u0440."],CAD:[void 0,"$"],CNY:[void 0,"\xA5"],EGP:[],ESP:["\u20A7"],GBP:[void 0,"\xA3"],HKD:[void 0,"$"],ILS:[void 0,"\u20AA"],INR:[void 0,"\u20B9"],JPY:[void 0,"\xA5"],KRW:[void 0,"\u20A9"],MXN:[void 0,"$"],NZD:[void 0,"$"],PHP:[void 0,"\u20B1"],RON:[void 0,"L"],THB:["\u0E3F"],TWD:[void 0,"NT$"],USD:["US$","$"],XAF:[],XCD:[void 0,"$"],XOF:[]},"ltr",F];A($);g(u,L).catch(t=>console.error(t));
